# ğŸ“„ Product Requirements Document  
**Product Name**: SwiftUI E-Commerce App with In-App Purchases  
**Platform**: iOS (iPhone + iPad)  
**Technology Stack**: Swift, SwiftUI, StoreKit, Alamofire or URLSession, MVVM architecture

---

## 1. ğŸ¯ Objective  
Develop a SwiftUI-based iOS E-commerce app that:
- Displays a product catalog from a public API  
- Implements in-app purchases using StoreKit or StoreKit 2
- Provides clean architecture, responsive UI, and dynamic content updates  

---

## 2. ğŸ§© Core Features

### 2.1 ğŸ“¦ Product Listing Screen
- Fetches data from public API (e.g. https://fakeapi.platzi.com/en/rest/products/)
- Displays each product with:
  - `Product Name`
  - `Price`
  - `Ratings` (e.g., 4.3, star)
  - `Rating Count` (e.g., 120)
  - `Image`
- Tappable product cards navigate to Product Details screen
- use pagination to display list with nice and smooth animation while fetching data using pagination

### 2.2 ğŸ“„ Product Details Page
- Displays:
  - Product Name
  - Description
  - Price
  - Ratings
  - Rating Count
  - Images (horizontal scrollable with nice and smooth animation)
- Includes a `Buy` button (if not purchased)
- Includes purchased ui instead of `Buy` button (if purchased)
- After purchase:
  - Shows confirmation message
  - Unlocks detailed content
  - Tracks purchase using `UserDefaults`

### 2.3 ğŸ›’ In-App Purchase Integration
- Uses **StoreKit 2**
- Implements:
  - Product registration
  - Purchase initiation
  - Transaction status tracking
- Handles:
  - Success/failure flows
  - Purchase restoration
  - Edge cases: cancellations, connection failures

---

## 3. ğŸ§  Technical Requirements

- Use **MVVM** architecture with proper layer separation
- Code must be:
  - Clean, modular, well-commented
  - SwiftUI best practices compliant
- Use:
  - `@MainActor`, `@Published`, Combine
  - `async/await` with `URLSession` or `Alamofire`
- Handle all edge cases (network errors, purchase failures, missing images, etc.)
- Keep StoreKit logic isolated in its own service layer

---

## 4. ğŸ¨ UI/UX Requirements

- Fully **responsive**, **adaptive** layout
- Support **Dark Mode**
- Use **majestic UI/UX**:
  - Fluid transitions
  - Bounce & fade effects
  - Smooth loading animations
- UX must feel native and intuitive
- Components:
  - ProductCardView
  - RatingView
  - LoadingView
  - PurchaseButtonView

---

## 5. âš ï¸ Error Handling

- Network failure:
  - Show retry option
  - Offline fallback (optional)
- API failure:
  - Show graceful fallback UI with "No products available"
- StoreKit errors:
  - Handle user cancel, invalid ID, and interrupted transactions
- Show alerts/snackbars for all error states

---

## 6. ğŸŒŸ Bonus Features (Optional)

- add beautiful splash screen
- Loading indicators while fetching/purchasing
- Use SwiftUI **Previews** for UI testing
- Add **Lottie animations** or **confetti effects** on purchase
- Persist scroll state or last-viewed product
- Add pull-to-refresh

---

## 7. ğŸ“ Suggested Folder & File Structure (SwiftUI + MVVM)

```
ğŸ“¦ ECommerceApp
â”œâ”€â”€ ğŸ“ Core
â”‚   â”œâ”€â”€ NetworkService.swift
â”‚   â”œâ”€â”€ APIError.swift
â”‚   â””â”€â”€ PurchaseManager.swift
â”‚
â”œâ”€â”€ ğŸ“ Models
â”‚   â”œâ”€â”€ Product.swift
â”‚   â””â”€â”€ PurchaseStatus.swift
â”‚
â”œâ”€â”€ ğŸ“ ViewModels
â”‚   â”œâ”€â”€ ProductListViewModel.swift
â”‚   â””â”€â”€ ProductDetailViewModel.swift
â”‚
â”œâ”€â”€ ğŸ“ Views
â”‚   â”œâ”€â”€ ğŸ“ Components
â”‚   â”‚   â”œâ”€â”€ ProductCardView.swift
â”‚   â”‚   â”œâ”€â”€ RatingView.swift
â”‚   â”‚   â”œâ”€â”€ LoadingView.swift
â”‚   â”‚   â””â”€â”€ PurchaseButtonView.swift
â”‚   â”œâ”€â”€ ProductListView.swift
â”‚   â””â”€â”€ ProductDetailView.swift
â”‚
â”œâ”€â”€ ğŸ“ Resources
â”‚   â”œâ”€â”€ Assets.xcassets
â”‚   â””â”€â”€ Localizable.strings
â”‚
â”œâ”€â”€ ğŸ“ Utils
â”‚   â”œâ”€â”€ Extensions.swift
â”‚   â””â”€â”€ Constants.swift
â”‚
â”œâ”€â”€ ğŸ“„ ContentView.swift
â”œâ”€â”€ ğŸ“„ ECommerceApp.swift
â””â”€â”€ ğŸ“„ StoreKitConfig.storekit
```
